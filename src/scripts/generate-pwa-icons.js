import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

// Get the directory name correctly in ESM
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Base64 encoded small PNG for a placeholder icon (blue square with "EF" text)
// This is a simple blue square with "EF" text that matches our theme
const iconBase64 = `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`;

// Function to create icon files
const createIcons = () => {
  const iconSizes = [72, 96, 128, 144, 152, 192, 384, 512];
  const publicIconsDir = path.join(__dirname, '..', '..', 'public', 'icons');

  // Convert base64 to buffer
  const iconData = Buffer.from(iconBase64, 'base64');

  // Write the icon files
  iconSizes.forEach(size => {
    fs.writeFileSync(
      path.join(publicIconsDir, `icon-${size}x${size}.png`),
      iconData
    );
    console.log(`Created icon-${size}x${size}.png`);
  });

  // Also create apple-touch-icon.png
  fs.writeFileSync(
    path.join(publicIconsDir, 'apple-touch-icon.png'),
    iconData
  );
  console.log('Created apple-touch-icon.png');

  console.log('All PWA icons have been generated successfully.');
};

createIcons(); 