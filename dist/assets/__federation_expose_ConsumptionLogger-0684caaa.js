import { importShared } from './__federation_fn_import-078a81cf.js';
import { c as createLucideIcon, M as MotionConfigContext, t as jsxRuntimeExports, u as useConstant, P as PresenceContext, v as usePresence, w as useIsomorphicLayoutEffect, x as LayoutGroupContext, j as jsxDevRuntimeExports, C as Card, d as CardHeader, e as CardTitle, f as CardContent, B as Button, S as Select, h as SelectTrigger, i as SelectValue, k as SelectContent, l as SelectItem, q as CardDescription, T as Tabs, m as TabsList, n as TabsTrigger, o as TabsContent, y as ChevronDown, z as motion, J as Jt, L as Label, A as Popover, D as PopoverTrigger, E as PopoverContent, F as Calendar$1, I as Input, G as ScrollArea, r as Slider, H as Textarea, K as Accordion, N as AccordionItem, O as AccordionTrigger, Q as AccordionContent, p as CardFooter, X, R as Dialog } from './proxy-0fb2bf4b.js';
import { B as Badge } from './badge-8ee49acb.js';
import { g as getCravingEntries, c as getConsumptionLogs, d as getAllProducts, e as addConsumptionLog, f as syncHealthData } from './missionFreshApiClient-4a1b4bf0.js';
import { C as Clock } from './clock-5c9b77ac.js';
import { A as Activity, B as BarChart, T as TriangleAlert, s as subDays } from './BarChart-c126de38.js';
import { R as ResponsiveContainer, q as Cell, y as Tooltip, z as Legend, D as CartesianGrid, X as XAxis, Y as YAxis, B as Bar, E as format } from './generateCategoricalChart-f1756715.js';
import { P as PieChart, a as Pie, C as CircleAlert } from './PieChart-340bd4ec.js';
import { U as Utensils } from './utensils-0f99a462.js';
import { C as Coffee } from './coffee-a68f3c7d.js';
import { C as Calendar } from './calendar-b87af6de.js';

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const ArrowRight = createLucideIcon("ArrowRight", [
  ["path", { d: "M5 12h14", key: "1ays0h" }],
  ["path", { d: "m12 5 7 7-7 7", key: "xquz4c" }]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const Calculator = createLucideIcon("Calculator", [
  ["rect", { width: "16", height: "20", x: "4", y: "2", rx: "2", key: "1nb95v" }],
  ["line", { x1: "8", x2: "16", y1: "6", y2: "6", key: "x4nwl0" }],
  ["line", { x1: "16", x2: "16", y1: "14", y2: "18", key: "wjye3r" }],
  ["path", { d: "M16 10h.01", key: "1m94wz" }],
  ["path", { d: "M12 10h.01", key: "1nrarc" }],
  ["path", { d: "M8 10h.01", key: "19clt8" }],
  ["path", { d: "M12 14h.01", key: "1etili" }],
  ["path", { d: "M8 14h.01", key: "6423bh" }],
  ["path", { d: "M12 18h.01", key: "mhygvu" }],
  ["path", { d: "M8 18h.01", key: "lrp35t" }]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const ChevronUp = createLucideIcon("ChevronUp", [["path", { d: "m18 15-6-6-6 6", key: "153udz" }]]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const MapPin = createLucideIcon("MapPin", [
  [
    "path",
    {
      d: "M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",
      key: "1r0f0z"
    }
  ],
  ["circle", { cx: "12", cy: "10", r: "3", key: "ilqhr7" }]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const Phone = createLucideIcon("Phone", [
  [
    "path",
    {
      d: "M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",
      key: "foiqr5"
    }
  ]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const Plus = createLucideIcon("Plus", [
  ["path", { d: "M5 12h14", key: "1ays0h" }],
  ["path", { d: "M12 5v14", key: "s699le" }]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const RefreshCw = createLucideIcon("RefreshCw", [
  ["path", { d: "M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8", key: "v9h5vc" }],
  ["path", { d: "M21 3v5h-5", key: "1q7to0" }],
  ["path", { d: "M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16", key: "3uifl3" }],
  ["path", { d: "M8 16H3v5", key: "1cv678" }]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const Save = createLucideIcon("Save", [
  [
    "path",
    {
      d: "M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",
      key: "1c8476"
    }
  ],
  ["path", { d: "M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7", key: "1ydtos" }],
  ["path", { d: "M7 3v4a1 1 0 0 0 1 1h7", key: "t51u73" }]
]);

/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */


const Users = createLucideIcon("Users", [
  ["path", { d: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2", key: "1yyitq" }],
  ["circle", { cx: "9", cy: "7", r: "4", key: "nufk8" }],
  ["path", { d: "M22 21v-2a4 4 0 0 0-3-3.87", key: "kshegd" }],
  ["path", { d: "M16 3.13a4 4 0 0 1 0 7.75", key: "1da9ce" }]
]);

const React$1 = await importShared('react');

const {useId: useId$1,useRef: useRef$1,useContext: useContext$1,useInsertionEffect} = await importShared('react');

/**
 * Measurement functionality has to be within a separate component
 * to leverage snapshot lifecycle.
 */
class PopChildMeasure extends React$1.Component {
    getSnapshotBeforeUpdate(prevProps) {
        const element = this.props.childRef.current;
        if (element && prevProps.isPresent && !this.props.isPresent) {
            const parent = element.offsetParent;
            const parentWidth = parent instanceof HTMLElement ? parent.offsetWidth || 0 : 0;
            const size = this.props.sizeRef.current;
            size.height = element.offsetHeight || 0;
            size.width = element.offsetWidth || 0;
            size.top = element.offsetTop;
            size.left = element.offsetLeft;
            size.right = parentWidth - size.width - size.left;
        }
        return null;
    }
    /**
     * Required with getSnapshotBeforeUpdate to stop React complaining.
     */
    componentDidUpdate() { }
    render() {
        return this.props.children;
    }
}
function PopChild({ children, isPresent, anchorX }) {
    const id = useId$1();
    const ref = useRef$1(null);
    const size = useRef$1({
        width: 0,
        height: 0,
        top: 0,
        left: 0,
        right: 0,
    });
    const { nonce } = useContext$1(MotionConfigContext);
    /**
     * We create and inject a style block so we can apply this explicit
     * sizing in a non-destructive manner by just deleting the style block.
     *
     * We can't apply size via render as the measurement happens
     * in getSnapshotBeforeUpdate (post-render), likewise if we apply the
     * styles directly on the DOM node, we might be overwriting
     * styles set via the style prop.
     */
    useInsertionEffect(() => {
        const { width, height, top, left, right } = size.current;
        if (isPresent || !ref.current || !width || !height)
            return;
        const x = anchorX === "left" ? `left: ${left}` : `right: ${right}`;
        ref.current.dataset.motionPopId = id;
        const style = document.createElement("style");
        if (nonce)
            style.nonce = nonce;
        document.head.appendChild(style);
        if (style.sheet) {
            style.sheet.insertRule(`
          [data-motion-pop-id="${id}"] {
            position: absolute !important;
            width: ${width}px !important;
            height: ${height}px !important;
            ${x}px !important;
            top: ${top}px !important;
          }
        `);
        }
        return () => {
            document.head.removeChild(style);
        };
    }, [isPresent]);
    return (jsxRuntimeExports.jsx(PopChildMeasure, { isPresent: isPresent, childRef: ref, sizeRef: size, children: React$1.cloneElement(children, { ref }) }));
}

const React = await importShared('react');

const {useId,useCallback,useMemo: useMemo$1} = await importShared('react');

const PresenceChild = ({ children, initial, isPresent, onExitComplete, custom, presenceAffectsLayout, mode, anchorX, }) => {
    const presenceChildren = useConstant(newChildrenMap);
    const id = useId();
    const memoizedOnExitComplete = useCallback((childId) => {
        presenceChildren.set(childId, true);
        for (const isComplete of presenceChildren.values()) {
            if (!isComplete)
                return; // can stop searching when any is incomplete
        }
        onExitComplete && onExitComplete();
    }, [presenceChildren, onExitComplete]);
    const context = useMemo$1(() => ({
        id,
        initial,
        isPresent,
        custom,
        onExitComplete: memoizedOnExitComplete,
        register: (childId) => {
            presenceChildren.set(childId, false);
            return () => presenceChildren.delete(childId);
        },
    }), 
    /**
     * If the presence of a child affects the layout of the components around it,
     * we want to make a new context value to ensure they get re-rendered
     * so they can detect that layout change.
     */
    presenceAffectsLayout
        ? [Math.random(), memoizedOnExitComplete]
        : [isPresent, memoizedOnExitComplete]);
    useMemo$1(() => {
        presenceChildren.forEach((_, key) => presenceChildren.set(key, false));
    }, [isPresent]);
    /**
     * If there's no `motion` components to fire exit animations, we want to remove this
     * component immediately.
     */
    React.useEffect(() => {
        !isPresent &&
            !presenceChildren.size &&
            onExitComplete &&
            onExitComplete();
    }, [isPresent]);
    if (mode === "popLayout") {
        children = (jsxRuntimeExports.jsx(PopChild, { isPresent: isPresent, anchorX: anchorX, children: children }));
    }
    return (jsxRuntimeExports.jsx(PresenceContext.Provider, { value: context, children: children }));
};
function newChildrenMap() {
    return new Map();
}

const {Children,isValidElement} = await importShared('react');


const getChildKey = (child) => child.key || "";
function onlyElements(children) {
    const filtered = [];
    // We use forEach here instead of map as map mutates the component key by preprending `.$`
    Children.forEach(children, (child) => {
        if (isValidElement(child))
            filtered.push(child);
    });
    return filtered;
}

const {useMemo,useRef,useState: useState$2,useContext} = await importShared('react');

/**
 * `AnimatePresence` enables the animation of components that have been removed from the tree.
 *
 * When adding/removing more than a single child, every child **must** be given a unique `key` prop.
 *
 * Any `motion` components that have an `exit` property defined will animate out when removed from
 * the tree.
 *
 * ```jsx
 * import { motion, AnimatePresence } from 'framer-motion'
 *
 * export const Items = ({ items }) => (
 *   <AnimatePresence>
 *     {items.map(item => (
 *       <motion.div
 *         key={item.id}
 *         initial={{ opacity: 0 }}
 *         animate={{ opacity: 1 }}
 *         exit={{ opacity: 0 }}
 *       />
 *     ))}
 *   </AnimatePresence>
 * )
 * ```
 *
 * You can sequence exit animations throughout a tree using variants.
 *
 * If a child contains multiple `motion` components with `exit` props, it will only unmount the child
 * once all `motion` components have finished animating out. Likewise, any components using
 * `usePresence` all need to call `safeToRemove`.
 *
 * @public
 */
const AnimatePresence = ({ children, custom, initial = true, onExitComplete, presenceAffectsLayout = true, mode = "sync", propagate = false, anchorX = "left", }) => {
    const [isParentPresent, safeToRemove] = usePresence(propagate);
    /**
     * Filter any children that aren't ReactElements. We can only track components
     * between renders with a props.key.
     */
    const presentChildren = useMemo(() => onlyElements(children), [children]);
    /**
     * Track the keys of the currently rendered children. This is used to
     * determine which children are exiting.
     */
    const presentKeys = propagate && !isParentPresent ? [] : presentChildren.map(getChildKey);
    /**
     * If `initial={false}` we only want to pass this to components in the first render.
     */
    const isInitialRender = useRef(true);
    /**
     * A ref containing the currently present children. When all exit animations
     * are complete, we use this to re-render the component with the latest children
     * *committed* rather than the latest children *rendered*.
     */
    const pendingPresentChildren = useRef(presentChildren);
    /**
     * Track which exiting children have finished animating out.
     */
    const exitComplete = useConstant(() => new Map());
    /**
     * Save children to render as React state. To ensure this component is concurrent-safe,
     * we check for exiting children via an effect.
     */
    const [diffedChildren, setDiffedChildren] = useState$2(presentChildren);
    const [renderedChildren, setRenderedChildren] = useState$2(presentChildren);
    useIsomorphicLayoutEffect(() => {
        isInitialRender.current = false;
        pendingPresentChildren.current = presentChildren;
        /**
         * Update complete status of exiting children.
         */
        for (let i = 0; i < renderedChildren.length; i++) {
            const key = getChildKey(renderedChildren[i]);
            if (!presentKeys.includes(key)) {
                if (exitComplete.get(key) !== true) {
                    exitComplete.set(key, false);
                }
            }
            else {
                exitComplete.delete(key);
            }
        }
    }, [renderedChildren, presentKeys.length, presentKeys.join("-")]);
    const exitingChildren = [];
    if (presentChildren !== diffedChildren) {
        let nextChildren = [...presentChildren];
        /**
         * Loop through all the currently rendered components and decide which
         * are exiting.
         */
        for (let i = 0; i < renderedChildren.length; i++) {
            const child = renderedChildren[i];
            const key = getChildKey(child);
            if (!presentKeys.includes(key)) {
                nextChildren.splice(i, 0, child);
                exitingChildren.push(child);
            }
        }
        /**
         * If we're in "wait" mode, and we have exiting children, we want to
         * only render these until they've all exited.
         */
        if (mode === "wait" && exitingChildren.length) {
            nextChildren = exitingChildren;
        }
        setRenderedChildren(onlyElements(nextChildren));
        setDiffedChildren(presentChildren);
        /**
         * Early return to ensure once we've set state with the latest diffed
         * children, we can immediately re-render.
         */
        return null;
    }
    if (mode === "wait" &&
        renderedChildren.length > 1) {
        console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`);
    }
    /**
     * If we've been provided a forceRender function by the LayoutGroupContext,
     * we can use it to force a re-render amongst all surrounding components once
     * all components have finished animating out.
     */
    const { forceRender } = useContext(LayoutGroupContext);
    return (jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment, { children: renderedChildren.map((child) => {
            const key = getChildKey(child);
            const isPresent = propagate && !isParentPresent
                ? false
                : presentChildren === renderedChildren ||
                    presentKeys.includes(key);
            const onExit = () => {
                if (exitComplete.has(key)) {
                    exitComplete.set(key, true);
                }
                else {
                    return;
                }
                let isEveryExitComplete = true;
                exitComplete.forEach((isExitComplete) => {
                    if (!isExitComplete)
                        isEveryExitComplete = false;
                });
                if (isEveryExitComplete) {
                    forceRender === null || forceRender === void 0 ? void 0 : forceRender();
                    setRenderedChildren(pendingPresentChildren.current);
                    propagate && (safeToRemove === null || safeToRemove === void 0 ? void 0 : safeToRemove());
                    onExitComplete && onExitComplete();
                }
            };
            return (jsxRuntimeExports.jsx(PresenceChild, { isPresent: isPresent, initial: !isInitialRender.current || initial
                    ? undefined
                    : false, custom: custom, presenceAffectsLayout: presenceAffectsLayout, mode: mode, onExitComplete: isPresent ? undefined : onExit, anchorX: anchorX, children: child }, key));
        }) }));
};

const {useState: useState$1,useEffect: useEffect$1} = await importShared('react');
const COLORS = ["#0088FE", "#00C49F", "#FFBB28", "#FF8042", "#8884d8", "#82ca9d", "#ffc658", "#8dd1e1"];
const TRIGGER_CATEGORIES = [
  {
    id: "stress",
    name: "Stress",
    color: "#FF6B6B",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Activity, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 101,
      columnNumber: 11
    }, globalThis),
    description: "Cravings triggered by stressful situations, work pressure, or anxiety.",
    strategies: [
      "Practice deep breathing exercises",
      "Try progressive muscle relaxation",
      "Take a short walk",
      "Use stress-relief apps",
      "Write down your thoughts"
    ]
  },
  {
    id: "social",
    name: "Social Situations",
    color: "#4ECDC4",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Users, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 115,
      columnNumber: 11
    }, globalThis),
    description: "Cravings that occur during social gatherings, parties, or when with friends who smoke.",
    strategies: [
      "Communicate your quitting goals with friends",
      "Have a substitute (gum, toothpick) ready",
      "Step away briefly if urges are strong",
      'Practice saying "no thanks"',
      "Spend time with non-smoking friends"
    ]
  },
  {
    id: "food",
    name: "After Meals",
    color: "#FFD166",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Utensils, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 129,
      columnNumber: 11
    }, globalThis),
    description: "Cravings that appear after finishing a meal, often a strongly conditioned response.",
    strategies: [
      "Brush teeth immediately after eating",
      "Go for a walk after meals",
      "Drink water or herbal tea",
      "Keep your hands busy with another activity",
      "Chew sugar-free gum"
    ]
  },
  {
    id: "coffee",
    name: "With Caffeine",
    color: "#F78C6C",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Coffee, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 143,
      columnNumber: 11
    }, globalThis),
    description: "Cravings associated with coffee or caffeine consumption.",
    strategies: [
      "Consider reducing caffeine temporarily",
      "Switch to a different beverage",
      "Change your routine order",
      "Hold your cup in the hand you usually hold a cigarette",
      "Try drinking tea instead"
    ]
  },
  {
    id: "boredom",
    name: "Boredom",
    color: "#C5A3FF",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Clock, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 157,
      columnNumber: 11
    }, globalThis),
    description: "Cravings that arise during periods of inactivity or boredom.",
    strategies: [
      "Keep your hands busy with a fidget toy",
      "Start a new hobby",
      "Download games on your phone",
      "Exercise when bored",
      "Call a friend for a chat"
    ]
  },
  {
    id: "emotional",
    name: "Emotional Triggers",
    color: "#F8A5C2",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TriangleAlert, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 171,
      columnNumber: 11
    }, globalThis),
    description: "Cravings triggered by emotional states like anger, sadness, or even happiness.",
    strategies: [
      "Practice mindfulness meditation",
      "Journal about your emotions",
      "Use the RAIN technique (Recognize, Allow, Investigate, Non-identification)",
      "Talk to someone you trust",
      "Use mood-tracking apps"
    ]
  },
  {
    id: "location",
    name: "Specific Locations",
    color: "#50C4ED",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(MapPin, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 185,
      columnNumber: 11
    }, globalThis),
    description: "Cravings that occur in specific places like your car, outside buildings, or certain rooms.",
    strategies: [
      "Rearrange furniture to break associations",
      "Clean your car thoroughly to remove smoke smell",
      "Find new routes or places to break habits",
      "Create no-smoking zones",
      "Associate locations with new healthy habits"
    ]
  },
  {
    id: "communication",
    name: "Phone/Text",
    color: "#96E6B3",
    icon: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Phone, { size: 20 }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 199,
      columnNumber: 11
    }, globalThis),
    description: "Cravings associated with talking on the phone or texting.",
    strategies: [
      "Hold something else during calls",
      "Take calls in places where you couldn't smoke before",
      "Use a headset to keep hands busy",
      "Stand or walk during calls",
      "Doodle or fidget during longer calls"
    ]
  }
];
const TriggerAnalysis = ({ session }) => {
  const [cravingData, setCravingData] = useState$1([]);
  const [loading, setLoading] = useState$1(true);
  const [error, setError] = useState$1(null);
  const [timeframe, setTimeframe] = useState$1("30");
  const [triggerPatterns, setTriggerPatterns] = useState$1([]);
  const [expandedCategory, setExpandedCategory] = useState$1(null);
  const [activeTab, setActiveTab] = useState$1("insights");
  useEffect$1(() => {
    const fetchData = async () => {
      if (!session?.user?.id)
        return;
      try {
        setLoading(true);
        const days = parseInt(timeframe);
        const endDate = format(/* @__PURE__ */ new Date(), "yyyy-MM-dd");
        const startDate = format(subDays(/* @__PURE__ */ new Date(), days), "yyyy-MM-dd");
        const data = await getCravingEntries(
          session.user.id,
          startDate,
          endDate,
          session
        );
        setCravingData(data);
        analyzePatterns(data);
      } catch (err) {
        console.error("Error fetching craving data:", err);
        setError("Failed to load craving data. Please try again later.");
      } finally {
        setLoading(false);
      }
    };
    fetchData();
  }, [session, timeframe]);
  const analyzePatterns = (data) => {
    if (!data || data.length === 0) {
      setTriggerPatterns([]);
      return;
    }
    const patterns = [];
    const timeMap = {};
    data.forEach((entry) => {
      const hour = new Date(entry.timestamp).getHours();
      const timeSlot = hour < 12 ? "morning" : hour < 18 ? "afternoon" : "evening";
      timeMap[timeSlot] = (timeMap[timeSlot] || 0) + 1;
    });
    const maxTimeSlot = Object.entries(timeMap).reduce(
      (max, [slot, count]) => count > (max.count || 0) ? { slot, count } : max,
      { slot: "", count: 0 }
    );
    if (maxTimeSlot.count > data.length / 3) {
      const timeLabels = {
        "morning": "6am-12pm",
        "afternoon": "12pm-6pm",
        "evening": "6pm-12am"
      };
      patterns.push({
        type: "time",
        confidence: Math.round(maxTimeSlot.count / data.length * 100),
        description: `Regular cravings during the ${maxTimeSlot.slot}`,
        timing: timeLabels[maxTimeSlot.slot],
        recommendation: `Prepare alternative activities during ${maxTimeSlot.slot} hours`
      });
    }
    const locationMap = {};
    data.forEach((entry) => {
      if (entry.location) {
        locationMap[entry.location] = (locationMap[entry.location] || 0) + 1;
      }
    });
    const maxLocation = Object.entries(locationMap).reduce(
      (max, [loc, count]) => count > (max.count || 0) ? { loc, count } : max,
      { loc: "", count: 0 }
    );
    if (maxLocation.count > data.length / 4) {
      patterns.push({
        type: "location",
        location: maxLocation.loc,
        confidence: Math.round(maxLocation.count / data.length * 100),
        description: `Frequent cravings when at "${maxLocation.loc}"`,
        recommendation: `Create a new routine for when you're at ${maxLocation.loc}`
      });
    }
    const triggerMap = {};
    data.forEach((entry) => {
      if (entry.trigger) {
        triggerMap[entry.trigger] = (triggerMap[entry.trigger] || 0) + 1;
      }
    });
    const maxTrigger = Object.entries(triggerMap).reduce(
      (max, [trigger, count]) => count > (max.count || 0) ? { trigger, count } : max,
      { trigger: "", count: 0 }
    );
    if (maxTrigger.trigger === "social" && maxTrigger.count > data.length / 5) {
      patterns.push({
        type: "social",
        confidence: Math.round(maxTrigger.count / data.length * 100),
        description: "Social situations are a major trigger",
        recommendation: "Prepare specific strategies for social events"
      });
    }
    const emotionalTriggers = ["stress", "anxiety", "sadness", "anger", "boredom"];
    const emotionalCount = emotionalTriggers.reduce(
      (sum, trigger) => sum + (triggerMap[trigger] || 0),
      0
    );
    if (emotionalCount > data.length / 4) {
      patterns.push({
        type: "emotional",
        confidence: Math.round(emotionalCount / data.length * 100),
        description: "Emotional states frequently trigger cravings",
        recommendation: "Work on emotional regulation techniques"
      });
    }
    setTriggerPatterns(patterns);
  };
  const toggleCategory = (categoryId) => {
    if (expandedCategory === categoryId) {
      setExpandedCategory(null);
    } else {
      setExpandedCategory(categoryId);
    }
  };
  const getTriggerDistribution = () => {
    if (!cravingData || cravingData.length === 0)
      return [];
    const distribution = {};
    cravingData.forEach((entry) => {
      if (entry.trigger) {
        distribution[entry.trigger] = (distribution[entry.trigger] || 0) + 1;
      }
    });
    return Object.entries(distribution).map(([trigger, count]) => ({
      name: trigger,
      value: count,
      percent: Math.round(count / cravingData.length * 100)
    }));
  };
  const getSuccessRateByTrigger = () => {
    if (!cravingData || cravingData.length === 0)
      return [];
    const triggerSuccess = {};
    cravingData.forEach((entry) => {
      if (entry.trigger) {
        if (!triggerSuccess[entry.trigger]) {
          triggerSuccess[entry.trigger] = { total: 0, success: 0 };
        }
        triggerSuccess[entry.trigger].total += 1;
        if (entry.success) {
          triggerSuccess[entry.trigger].success += 1;
        }
      }
    });
    return Object.entries(triggerSuccess).filter(([_, data]) => data.total >= 3).map(([trigger, data]) => ({
      name: trigger,
      successRate: Math.round(data.success / data.total * 100)
    })).sort((a, b) => b.successRate - a.successRate);
  };
  const getTimeOfDayDistribution = () => {
    if (!cravingData || cravingData.length === 0)
      return [];
    const hourCounts = Array(24).fill(0);
    cravingData.forEach((entry) => {
      const hour = new Date(entry.timestamp).getHours();
      hourCounts[hour] += 1;
    });
    return hourCounts.map((count, hour) => ({
      hour,
      count,
      label: `${hour % 12 === 0 ? 12 : hour % 12}${hour < 12 ? "am" : "pm"}`
    }));
  };
  if (loading) {
    return /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "w-full p-8 flex justify-center", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "animate-pulse flex flex-col items-center", children: [
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "h-8 w-48 bg-gray-200 rounded mb-4" }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 466,
        columnNumber: 11
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "h-64 w-full bg-gray-200 rounded" }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 467,
        columnNumber: 11
      }, globalThis)
    ] }, void 0, true, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 465,
      columnNumber: 9
    }, globalThis) }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 464,
      columnNumber: 7
    }, globalThis);
  }
  if (error) {
    return /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "w-full p-8", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { children: [
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardHeader, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardTitle, { className: "text-red-500", children: "Error" }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 478,
        columnNumber: 13
      }, globalThis) }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 477,
        columnNumber: 11
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { children: error }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 481,
          columnNumber: 13
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Button, { onClick: () => window.location.reload(), className: "mt-4", children: "Try Again" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 482,
          columnNumber: 13
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 480,
        columnNumber: 11
      }, globalThis)
    ] }, void 0, true, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 476,
      columnNumber: 9
    }, globalThis) }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 475,
      columnNumber: 7
    }, globalThis);
  }
  return /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "w-full", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { className: "mb-6", children: [
    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardHeader, { children: [
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardTitle, { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { children: "Craving Triggers Analysis" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 496,
          columnNumber: 13
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
          Select,
          {
            value: timeframe,
            onValueChange: (value) => setTimeframe(value),
            children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectTrigger, { className: "w-[180px]", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectValue, { placeholder: "Select timeframe" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 502,
                columnNumber: 17
              }, globalThis) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 501,
                columnNumber: 15
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectContent, { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: "7", children: "Last 7 days" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 505,
                  columnNumber: 17
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: "30", children: "Last 30 days" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 506,
                  columnNumber: 17
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: "90", children: "Last 90 days" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 507,
                  columnNumber: 17
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 504,
                columnNumber: 15
              }, globalThis)
            ]
          },
          void 0,
          true,
          {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 497,
            columnNumber: 13
          },
          globalThis
        )
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 495,
        columnNumber: 11
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardDescription, { children: cravingData.length === 0 ? "No craving data available for the selected period. Start logging your cravings to see insights." : `Analysis based on ${cravingData.length} craving entries over the last ${timeframe} days.` }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 511,
        columnNumber: 11
      }, globalThis)
    ] }, void 0, true, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 494,
      columnNumber: 9
    }, globalThis),
    cravingData.length > 0 && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Tabs, { value: activeTab, onValueChange: setActiveTab, className: "w-full", children: [
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsList, { className: "grid w-full grid-cols-3", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsTrigger, { value: "insights", children: "Key Insights" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 522,
          columnNumber: 17
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsTrigger, { value: "charts", children: "Charts" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 523,
          columnNumber: 17
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsTrigger, { value: "strategies", children: "Coping Strategies" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 524,
          columnNumber: 17
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 521,
        columnNumber: 15
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsContent, { value: "insights", className: "mt-4", children: triggerPatterns.length === 0 ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "text-center py-6", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Calculator, { className: "h-12 w-12 text-gray-400 mx-auto mb-4" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 530,
          columnNumber: 21
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium", children: "Not Enough Data" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 531,
          columnNumber: 21
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-gray-500 mt-2", children: "Continue logging your cravings to reveal patterns and receive personalized insights." }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 532,
          columnNumber: 21
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 529,
        columnNumber: 19
      }, globalThis) : /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "space-y-4", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium", children: "Detected Patterns" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 538,
          columnNumber: 21
        }, globalThis),
        triggerPatterns.map((pattern, index) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "bg-gray-50 dark:bg-gray-800 rounded-lg p-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-start", children: [
          pattern.type === "time" && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Clock, { className: "h-5 w-5 text-blue-500 mr-3 mt-1" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 543,
            columnNumber: 55
          }, globalThis),
          pattern.type === "location" && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(MapPin, { className: "h-5 w-5 text-green-500 mr-3 mt-1" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 544,
            columnNumber: 59
          }, globalThis),
          pattern.type === "social" && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Users, { className: "h-5 w-5 text-purple-500 mr-3 mt-1" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 545,
            columnNumber: 57
          }, globalThis),
          pattern.type === "emotional" && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Activity, { className: "h-5 w-5 text-red-500 mr-3 mt-1" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 546,
            columnNumber: 60
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex-1", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex justify-between items-start", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h4", { className: "font-medium", children: pattern.description }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 550,
                columnNumber: 31
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-sm bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full", children: [
                pattern.confidence,
                "% confidence"
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 551,
                columnNumber: 31
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 549,
              columnNumber: 29
            }, globalThis),
            pattern.timing && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-sm text-gray-500 mt-1", children: [
              "Time: ",
              pattern.timing
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 557,
              columnNumber: 31
            }, globalThis),
            pattern.location && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-sm text-gray-500 mt-1", children: [
              "Location: ",
              pattern.location
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 563,
              columnNumber: 31
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "mt-3 flex items-center", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ArrowRight, { className: "h-4 w-4 text-indigo-500 mr-2" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 569,
                columnNumber: 31
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-sm font-medium text-indigo-700 dark:text-indigo-300", children: pattern.recommendation }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 570,
                columnNumber: 31
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 568,
              columnNumber: 29
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 548,
            columnNumber: 27
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 542,
          columnNumber: 25
        }, globalThis) }, index, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 541,
          columnNumber: 23
        }, globalThis)),
        cravingData.length < 10 && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "text-sm text-gray-500 mt-6 italic", children: "Continue logging cravings to improve pattern detection accuracy." }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 580,
          columnNumber: 23
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 537,
        columnNumber: 19
      }, globalThis) }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 527,
        columnNumber: 15
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsContent, { value: "charts", className: "mt-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "space-y-8", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium mb-4", children: "Trigger Distribution" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 592,
            columnNumber: 21
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "h-[300px]", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(PieChart, { children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
              Pie,
              {
                data: getTriggerDistribution(),
                dataKey: "value",
                nameKey: "name",
                cx: "50%",
                cy: "50%",
                outerRadius: 100,
                label: ({ name, percent }) => `${name}: ${percent}%`,
                children: getTriggerDistribution().map((entry, index) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Cell, { fill: COLORS[index % COLORS.length] }, `cell-${index}`, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 606,
                  columnNumber: 31
                }, globalThis))
              },
              void 0,
              false,
              {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 596,
                columnNumber: 27
              },
              globalThis
            ),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Tooltip, { formatter: (value, name) => [`${value} times`, name] }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 609,
              columnNumber: 27
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Legend, {}, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 610,
              columnNumber: 27
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 595,
            columnNumber: 25
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 594,
            columnNumber: 23
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 593,
            columnNumber: 21
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 591,
          columnNumber: 19
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium mb-4", children: "Success Rate By Trigger" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 618,
            columnNumber: 21
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "h-[300px]", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
            BarChart,
            {
              data: getSuccessRateByTrigger(),
              margin: {
                top: 5,
                right: 30,
                left: 20,
                bottom: 5
              },
              children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CartesianGrid, { strokeDasharray: "3 3" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 630,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(XAxis, { dataKey: "name" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 631,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(YAxis, { label: { value: "Success %", angle: -90, position: "insideLeft" } }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 632,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Tooltip, { formatter: (value) => [`${value}%`, "Success Rate"] }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 633,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Legend, {}, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 634,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Bar, { dataKey: "successRate", name: "Success Rate", fill: "#82ca9d" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 635,
                  columnNumber: 27
                }, globalThis)
              ]
            },
            void 0,
            true,
            {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 621,
              columnNumber: 25
            },
            globalThis
          ) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 620,
            columnNumber: 23
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 619,
            columnNumber: 21
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 617,
          columnNumber: 19
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium mb-4", children: "Time of Day Distribution" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 643,
            columnNumber: 21
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "h-[300px]", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ResponsiveContainer, { width: "100%", height: "100%", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
            BarChart,
            {
              data: getTimeOfDayDistribution().filter((item) => item.count > 0),
              margin: {
                top: 5,
                right: 30,
                left: 20,
                bottom: 5
              },
              children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CartesianGrid, { strokeDasharray: "3 3" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 655,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(XAxis, { dataKey: "label" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 656,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(YAxis, {}, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 657,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Tooltip, {}, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 658,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Legend, {}, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 659,
                  columnNumber: 27
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Bar, { dataKey: "count", name: "Cravings", fill: "#8884d8" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 660,
                  columnNumber: 27
                }, globalThis)
              ]
            },
            void 0,
            true,
            {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 646,
              columnNumber: 25
            },
            globalThis
          ) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 645,
            columnNumber: 23
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 644,
            columnNumber: 21
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 642,
          columnNumber: 19
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 589,
        columnNumber: 17
      }, globalThis) }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 588,
        columnNumber: 15
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsContent, { value: "strategies", className: "mt-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium", children: "Effective Coping Strategies" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 670,
          columnNumber: 19
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "grid gap-4", children: TRIGGER_CATEGORIES.map((category) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { className: "overflow-hidden", children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
            "div",
            {
              className: "cursor-pointer",
              onClick: () => toggleCategory(category.id),
              children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center justify-between p-4 border-b", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center space-x-3", children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                    "div",
                    {
                      className: "w-8 h-8 rounded-full flex items-center justify-center",
                      style: { backgroundColor: category.color + "33" },
                      children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { style: { color: category.color }, children: category.icon }, void 0, false, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                        lineNumber: 685,
                        columnNumber: 33
                      }, globalThis)
                    },
                    void 0,
                    false,
                    {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                      lineNumber: 681,
                      columnNumber: 31
                    },
                    globalThis
                  ),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h4", { className: "font-medium", children: category.name }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                    lineNumber: 687,
                    columnNumber: 31
                  }, globalThis)
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 680,
                  columnNumber: 29
                }, globalThis),
                expandedCategory === category.id ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ChevronUp, { className: "h-5 w-5 text-gray-400" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 690,
                  columnNumber: 31
                }, globalThis) : /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ChevronDown, { className: "h-5 w-5 text-gray-400" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 692,
                  columnNumber: 31
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 679,
                columnNumber: 27
              }, globalThis)
            },
            void 0,
            false,
            {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 675,
              columnNumber: 25
            },
            globalThis
          ),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(AnimatePresence, { children: expandedCategory === category.id && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
            motion.div,
            {
              initial: { height: 0, opacity: 0 },
              animate: { height: "auto", opacity: 1 },
              exit: { height: 0, opacity: 0 },
              transition: { duration: 0.3 },
              children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "p-4", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-gray-600 dark:text-gray-300 mb-4", children: category.description }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 706,
                  columnNumber: 33
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h5", { className: "font-medium mb-2", children: "Recommended Strategies:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 709,
                  columnNumber: 33
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("ul", { className: "space-y-2", children: category.strategies.map((strategy, index) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("li", { className: "flex items-start", children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "inline-flex items-center justify-center w-5 h-5 bg-green-100 text-green-800 rounded-full text-xs mr-2 mt-0.5", children: index + 1 }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                    lineNumber: 713,
                    columnNumber: 39
                  }, globalThis),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { children: strategy }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                    lineNumber: 716,
                    columnNumber: 39
                  }, globalThis)
                ] }, index, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 712,
                  columnNumber: 37
                }, globalThis)) }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                  lineNumber: 710,
                  columnNumber: 33
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
                lineNumber: 705,
                columnNumber: 31
              }, globalThis)
            },
            void 0,
            false,
            {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
              lineNumber: 699,
              columnNumber: 29
            },
            globalThis
          ) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
            lineNumber: 697,
            columnNumber: 25
          }, globalThis)
        ] }, category.id, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 674,
          columnNumber: 23
        }, globalThis)) }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
          lineNumber: 672,
          columnNumber: 19
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 669,
        columnNumber: 17
      }, globalThis) }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 668,
        columnNumber: 15
      }, globalThis)
    ] }, void 0, true, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 520,
      columnNumber: 13
    }, globalThis) }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 519,
      columnNumber: 11
    }, globalThis),
    cravingData.length === 0 && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "text-center py-10", children: [
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TriangleAlert, { className: "h-12 w-12 text-amber-400 mx-auto mb-4" }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 736,
        columnNumber: 15
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("h3", { className: "text-lg font-medium", children: "No Craving Data Available" }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 737,
        columnNumber: 15
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-gray-500 mt-2 mb-6", children: "Start logging your cravings to receive personalized insights and coping strategies." }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 738,
        columnNumber: 15
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Button, { variant: "outline", children: "Go to Craving Logger" }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
        lineNumber: 741,
        columnNumber: 15
      }, globalThis)
    ] }, void 0, true, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 735,
      columnNumber: 13
    }, globalThis) }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
      lineNumber: 734,
      columnNumber: 11
    }, globalThis)
  ] }, void 0, true, {
    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
    lineNumber: 493,
    columnNumber: 7
  }, globalThis) }, void 0, false, {
    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/TriggerAnalysis.tsx",
    lineNumber: 492,
    columnNumber: 5
  }, globalThis);
};

const {useState,useEffect} = await importShared('react');

const {useNavigate} = await importShared('react-router-dom');
const COMMON_TRIGGERS = [
  "Stress",
  "After meal",
  "Social situation",
  "Boredom",
  "With alcohol",
  "While driving",
  "Work break",
  "Morning routine",
  "Emotional distress",
  "Celebration",
  "Custom"
];
const COMMON_LOCATIONS = [
  "Home",
  "Work",
  "Car",
  "Bar/Restaurant",
  "Friend's place",
  "Outdoors",
  "Public space",
  "Bathroom",
  "Custom"
];
const MOOD_OPTIONS = [
  "Happy",
  "Neutral",
  "Sad",
  "Anxious",
  "Bored",
  "Angry",
  "Stressed",
  "Relaxed",
  "Tired",
  "Energetic"
];
const PRODUCT_CATEGORIES = [
  "cigarettes",
  "vape",
  "nicotine_pouches",
  "nicotine_gum",
  "cigars",
  "pipe_tobacco",
  "smokeless_tobacco",
  "heated_tobacco",
  "other"
];
const ConsumptionLogger = ({ session }) => {
  const navigate = useNavigate();
  const [activeTab, setActiveTab] = useState("log");
  const [selectedDate, setSelectedDate] = useState(/* @__PURE__ */ new Date());
  const [time, setTime] = useState(format(/* @__PURE__ */ new Date(), "HH:mm"));
  const [productType, setProductType] = useState("");
  const [quantity, setQuantity] = useState(1);
  const [unit, setUnit] = useState("");
  const [trigger, setTrigger] = useState("");
  const [customTrigger, setCustomTrigger] = useState("");
  const [location, setLocation] = useState("");
  const [customLocation, setCustomLocation] = useState("");
  const [mood, setMood] = useState("neutral");
  const [intensity, setIntensity] = useState(5);
  const [notes, setNotes] = useState("");
  const [logs, setLogs] = useState([]);
  const [editingLog, setEditingLog] = useState(null);
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [filterDate, setFilterDate] = useState(/* @__PURE__ */ new Date());
  const [stepCount, setStepCount] = useState(null);
  const [sleepHours, setSleepHours] = useState(null);
  const [stressLevel, setStressLevel] = useState(5);
  const [selectedProduct, setSelectedProduct] = useState(null);
  const [productsList, setProductsList] = useState([]);
  const [filteredProducts, setFilteredProducts] = useState([]);
  const [searchTerm, setSearchTerm] = useState("");
  const [categoryFilter, setCategoryFilter] = useState("");
  const [isLoadingProducts, setIsLoadingProducts] = useState(false);
  const [isLoadingLogs, setIsLoadingLogs] = useState(false);
  const [isCalendarOpen, setIsCalendarOpen] = useState(false);
  const [showAddDialog, setShowAddDialog] = useState(false);
  const [showEditDialog, setShowEditDialog] = useState(false);
  const [showProductDialog, setShowProductDialog] = useState(false);
  useEffect(() => {
    if (session?.user) {
      loadConsumptionLogs();
      loadProducts();
    } else {
      navigate("/login");
    }
  }, [session, navigate]);
  useEffect(() => {
    if (productsList.length > 0) {
      let filtered = productsList;
      if (categoryFilter) {
        filtered = filtered.filter((product) => product.category === categoryFilter);
      }
      if (searchTerm) {
        const lowercaseSearch = searchTerm.toLowerCase();
        filtered = filtered.filter(
          (product) => product.name.toLowerCase().includes(lowercaseSearch) || product.brand.toLowerCase().includes(lowercaseSearch)
        );
      }
      setFilteredProducts(filtered);
      if (!selectedProduct && filtered.length > 0) {
        setSelectedProduct(filtered[0]);
        setProductType(filtered[0].category);
        switch (filtered[0].category) {
          case "cigarettes":
          case "cigars":
            setUnit("sticks");
            break;
          case "vape":
            setUnit("puffs");
            break;
          case "nicotine_pouches":
          case "nicotine_gum":
            setUnit("pieces");
            break;
          case "pipe_tobacco":
          case "smokeless_tobacco":
            setUnit("grams");
            break;
          default:
            setUnit("units");
        }
      }
    }
  }, [categoryFilter, searchTerm, productsList, selectedProduct]);
  const loadConsumptionLogs = async () => {
    if (!session?.user?.id)
      return;
    try {
      setIsLoadingLogs(true);
      const startDate = /* @__PURE__ */ new Date();
      startDate.setDate(startDate.getDate() - 30);
      const logs2 = await getConsumptionLogs(
        session.user.id,
        startDate.toISOString(),
        (/* @__PURE__ */ new Date()).toISOString(),
        session
      );
      setLogs(logs2);
    } catch (error) {
      Jt.error("Failed to load consumption logs");
      console.error("Error loading consumption logs:", error);
    } finally {
      setIsLoadingLogs(false);
    }
  };
  const loadProducts = async () => {
    if (!session?.user)
      return;
    try {
      setIsLoadingProducts(true);
      const products = await getAllProducts(void 0, session);
      setProductsList(products);
      setFilteredProducts(products);
    } catch (error) {
      Jt.error("Failed to load products");
      console.error("Error loading products:", error);
    } finally {
      setIsLoadingProducts(false);
    }
  };
  const handleSubmit = async () => {
    if (!session?.user?.id || !selectedProduct) {
      Jt.error("Please select a product");
      return;
    }
    try {
      setIsSubmitting(true);
      const dateTimeString = `${format(selectedDate, "yyyy-MM-dd")}T${time}:00`;
      const finalTrigger = trigger === "Custom" ? customTrigger : trigger;
      const finalLocation = location === "Custom" ? customLocation : location;
      const logEntry = {
        user_id: session.user.id,
        consumption_date: dateTimeString,
        product_type: selectedProduct.category,
        brand: selectedProduct.brand,
        variant: selectedProduct.name,
        nicotine_strength: selectedProduct.nicotine_strength,
        quantity,
        unit,
        trigger: finalTrigger,
        location: finalLocation,
        mood,
        intensity,
        notes
      };
      await addConsumptionLog(logEntry, session);
      if (stepCount !== null || sleepHours !== null || stressLevel !== null) {
        await syncHealthData(session.user.id, {
          step_count: stepCount || void 0,
          sleep_hours: sleepHours || void 0,
          stress_level: stressLevel
        }, session);
      }
      setQuantity(1);
      setTrigger("");
      setCustomTrigger("");
      setLocation("");
      setCustomLocation("");
      setMood("neutral");
      setIntensity(5);
      setNotes("");
      setStepCount(null);
      setSleepHours(null);
      setStressLevel(5);
      await loadConsumptionLogs();
      Jt.success("Consumption logged successfully");
      setActiveTab("history");
    } catch (error) {
      Jt.error("Failed to log consumption");
      console.error("Error logging consumption:", error);
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleDelete = async (logId) => {
    if (!session?.user?.id || !logId)
      return;
    if (!confirm("Are you sure you want to delete this log?"))
      return;
    try {
      await fetch(`${"https://zoubqdwxemivxrjruvam.supabase.co"}/rest/v1/consumption_logs8?id=eq.${logId}`, {
        method: "DELETE",
        headers: {
          "Authorization": `Bearer ${session.access_token}`,
          "apikey": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvdWJxZHd4ZW1pdnhyanJ1dmFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg0MjAxOTcsImV4cCI6MjA1Mzk5NjE5N30.tq2ssOiA8CbFUZc6HXWXMEev1dODzKZxzNrpvyzbbXs" || ""
        }
      });
      Jt.success("Log deleted successfully");
      await loadConsumptionLogs();
    } catch (error) {
      Jt.error("Failed to delete log");
      console.error("Error deleting log:", error);
    }
  };
  const handleEdit = (log) => {
    setEditingLog(log);
    setSelectedDate(new Date(log.consumption_date));
    setTime(format(new Date(log.consumption_date), "HH:mm"));
    setProductType(log.product_type);
    setCategoryFilter(log.product_type);
    const product = productsList.find(
      (p) => p.brand === log.brand && p.name === log.variant && p.category === log.product_type
    );
    setSelectedProduct(product || null);
    setQuantity(log.quantity);
    setUnit(log.unit);
    setTrigger(log.trigger || "");
    setLocation(log.location || "");
    setMood(log.mood || "neutral");
    setIntensity(log.intensity || 5);
    setNotes(log.notes || "");
    setActiveTab("log");
  };
  const cancelEdit = () => {
    setEditingLog(null);
    setSelectedDate(/* @__PURE__ */ new Date());
    setTime(format(/* @__PURE__ */ new Date(), "HH:mm"));
    setProductType("");
    setCategoryFilter("");
    setSelectedProduct(null);
    setQuantity(1);
    setUnit("");
    setTrigger("");
    setCustomTrigger("");
    setLocation("");
    setCustomLocation("");
    setMood("neutral");
    setIntensity(5);
    setNotes("");
  };
  const updateLog = async () => {
    if (!session?.user?.id || !editingLog?.id || !selectedProduct)
      return;
    try {
      setIsSubmitting(true);
      const dateTimeString = `${format(selectedDate, "yyyy-MM-dd")}T${time}:00`;
      const finalTrigger = trigger === "Custom" ? customTrigger : trigger;
      const finalLocation = location === "Custom" ? customLocation : location;
      const logUpdates = {
        consumption_date: dateTimeString,
        product_type: selectedProduct.category,
        brand: selectedProduct.brand,
        variant: selectedProduct.name,
        nicotine_strength: selectedProduct.nicotine_strength,
        quantity,
        unit,
        trigger: finalTrigger,
        location: finalLocation,
        mood,
        intensity,
        notes
      };
      await fetch(`${"https://zoubqdwxemivxrjruvam.supabase.co"}/rest/v1/consumption_logs8?id=eq.${editingLog.id}`, {
        method: "PATCH",
        headers: {
          "Authorization": `Bearer ${session.access_token}`,
          "apikey": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpvdWJxZHd4ZW1pdnhyanJ1dmFtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Mzg0MjAxOTcsImV4cCI6MjA1Mzk5NjE5N30.tq2ssOiA8CbFUZc6HXWXMEev1dODzKZxzNrpvyzbbXs" || "",
          "Content-Type": "application/json",
          "Prefer": "return=representation"
        },
        body: JSON.stringify(logUpdates)
      });
      Jt.success("Log updated successfully");
      setEditingLog(null);
      await loadConsumptionLogs();
      setActiveTab("history");
      cancelEdit();
    } catch (error) {
      Jt.error("Failed to update log");
      console.error("Error updating log:", error);
    } finally {
      setIsSubmitting(false);
    }
  };
  const handleProductSelect = (product) => {
    setSelectedProduct(product);
    setProductType(product.category);
    switch (product.category) {
      case "cigarettes":
      case "cigars":
        setUnit("sticks");
        break;
      case "vape":
        setUnit("puffs");
        break;
      case "nicotine_pouches":
      case "nicotine_gum":
        setUnit("pieces");
        break;
      case "pipe_tobacco":
      case "smokeless_tobacco":
        setUnit("grams");
        break;
      default:
        setUnit("units");
    }
  };
  const getIconForCategory = (category) => {
    switch (category) {
      case "cigarettes":
        return "";
      case "vape":
        return "";
      case "nicotine_pouches":
        return "";
      case "nicotine_gum":
        return "";
      case "cigars":
        return "";
      case "pipe_tobacco":
        return "";
      case "smokeless_tobacco":
        return "";
      case "heated_tobacco":
        return "";
      default:
        return "";
    }
  };
  const formatNicotineMg = (strength) => {
    return `${strength} mg/unit`;
  };
  return /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Tabs, { value: activeTab, onValueChange: setActiveTab, className: "w-full", children: [
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsList, { className: "grid w-full grid-cols-3", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsTrigger, { value: "log", children: "Log Consumption" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 488,
          columnNumber: 11
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsTrigger, { value: "history", children: "History" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 489,
          columnNumber: 11
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsTrigger, { value: "triggers", children: "Trigger Analysis" }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 490,
          columnNumber: 11
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
        lineNumber: 487,
        columnNumber: 9
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsContent, { value: "log", className: "space-y-6 pt-4", children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardHeader, { children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardTitle, { children: "Date and Time" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 497,
              columnNumber: 15
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardDescription, { children: "When did this consumption occur?" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 498,
              columnNumber: 15
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 496,
            columnNumber: 13
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { className: "space-y-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Date:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 503,
                columnNumber: 19
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Popover, { open: isCalendarOpen, onOpenChange: setIsCalendarOpen, children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(PopoverTrigger, { asChild: true, children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Button,
                  {
                    variant: "outline",
                    className: "w-full justify-start text-left font-normal",
                    children: [
                      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Calendar, { className: "mr-2 h-4 w-4" }, void 0, false, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                        lineNumber: 510,
                        columnNumber: 25
                      }, globalThis),
                      selectedDate ? format(selectedDate, "PPP") : /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { children: "Pick a date" }, void 0, false, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                        lineNumber: 511,
                        columnNumber: 71
                      }, globalThis)
                    ]
                  },
                  void 0,
                  true,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 506,
                    columnNumber: 23
                  },
                  globalThis
                ) }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 505,
                  columnNumber: 21
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(PopoverContent, { className: "w-auto p-0", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Calendar$1,
                  {
                    mode: "single",
                    selected: selectedDate,
                    onSelect: (date) => {
                      date && setSelectedDate(date);
                      setIsCalendarOpen(false);
                    },
                    initialFocus: true
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 515,
                    columnNumber: 23
                  },
                  globalThis
                ) }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 514,
                  columnNumber: 21
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 504,
                columnNumber: 19
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 502,
              columnNumber: 17
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Time:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 528,
                columnNumber: 19
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Input,
                {
                  type: "time",
                  value: time,
                  onChange: (e) => setTime(e.target.value)
                },
                void 0,
                false,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 529,
                  columnNumber: 19
                },
                globalThis
              )
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 527,
              columnNumber: 17
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 501,
            columnNumber: 15
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 500,
            columnNumber: 13
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 495,
          columnNumber: 11
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardHeader, { children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardTitle, { children: "Product Selection" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 542,
              columnNumber: 15
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardDescription, { children: "What nicotine product did you use?" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 543,
              columnNumber: 15
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 541,
            columnNumber: 13
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { className: "space-y-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "grid grid-cols-1 gap-4", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Product Category:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 548,
                columnNumber: 19
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Select,
                {
                  value: categoryFilter,
                  onValueChange: setCategoryFilter,
                  children: [
                    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectTrigger, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectValue, { placeholder: "Select category" }, void 0, false, {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                      lineNumber: 554,
                      columnNumber: 23
                    }, globalThis) }, void 0, false, {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                      lineNumber: 553,
                      columnNumber: 21
                    }, globalThis),
                    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectContent, { children: [
                      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: "", children: "All Categories" }, void 0, false, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                        lineNumber: 557,
                        columnNumber: 23
                      }, globalThis),
                      PRODUCT_CATEGORIES.map((category) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: category, children: [
                        getIconForCategory(category),
                        " ",
                        category.replace("_", " ").replace(/(^\w|\s\w)/g, (m) => m.toUpperCase())
                      ] }, category, true, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                        lineNumber: 559,
                        columnNumber: 25
                      }, globalThis))
                    ] }, void 0, true, {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                      lineNumber: 556,
                      columnNumber: 21
                    }, globalThis)
                  ]
                },
                void 0,
                true,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 549,
                  columnNumber: 19
                },
                globalThis
              )
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 547,
              columnNumber: 17
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Search Products:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 568,
                columnNumber: 19
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Input,
                {
                  type: "text",
                  placeholder: "Search by name or brand...",
                  value: searchTerm,
                  onChange: (e) => setSearchTerm(e.target.value)
                },
                void 0,
                false,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 569,
                  columnNumber: 19
                },
                globalThis
              )
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 567,
              columnNumber: 17
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Selected Product:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 578,
                columnNumber: 19
              }, globalThis),
              isLoadingProducts ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center justify-center p-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(RefreshCw, { className: "h-6 w-6 animate-spin" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 581,
                columnNumber: 23
              }, globalThis) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 580,
                columnNumber: 21
              }, globalThis) : filteredProducts.length === 0 ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "text-center p-4 border rounded-md", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { children: "No products found. Try adjusting your filters." }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 585,
                columnNumber: 23
              }, globalThis) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 584,
                columnNumber: 21
              }, globalThis) : /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ScrollArea, { className: "h-60 rounded-md border", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "p-4 grid grid-cols-1 gap-2", children: filteredProducts.map((product) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                "div",
                {
                  className: `flex items-center p-2 rounded-md cursor-pointer ${selectedProduct?.id === product.id ? "bg-primary/10 border border-primary" : "hover:bg-muted"}`,
                  onClick: () => handleProductSelect(product),
                  children: [
                    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "mr-2 p-2 rounded-full bg-muted", children: getIconForCategory(product.category) }, void 0, false, {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                      lineNumber: 600,
                      columnNumber: 29
                    }, globalThis),
                    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex-1", children: [
                      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "font-medium", children: [
                        product.brand,
                        " ",
                        product.name
                      ] }, void 0, true, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                        lineNumber: 604,
                        columnNumber: 31
                      }, globalThis),
                      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center text-xs text-muted-foreground", children: [
                        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { children: formatNicotineMg(product.nicotine_strength) }, void 0, false, {
                          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                          lineNumber: 606,
                          columnNumber: 33
                        }, globalThis),
                        product.flavors && product.flavors.length > 0 && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "ml-2", children: [
                          " ",
                          product.flavors.join(", ")
                        ] }, void 0, true, {
                          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                          lineNumber: 608,
                          columnNumber: 35
                        }, globalThis)
                      ] }, void 0, true, {
                        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                        lineNumber: 605,
                        columnNumber: 31
                      }, globalThis)
                    ] }, void 0, true, {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                      lineNumber: 603,
                      columnNumber: 29
                    }, globalThis)
                  ]
                },
                product.id,
                true,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 591,
                  columnNumber: 27
                },
                globalThis
              )) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 589,
                columnNumber: 23
              }, globalThis) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 588,
                columnNumber: 21
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 577,
              columnNumber: 17
            }, globalThis),
            selectedProduct && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Quantity:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 621,
                columnNumber: 21
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center space-x-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Button,
                  {
                    variant: "outline",
                    size: "icon",
                    onClick: () => setQuantity(Math.max(1, quantity - 1)),
                    disabled: quantity <= 1,
                    children: "-"
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 623,
                    columnNumber: 23
                  },
                  globalThis
                ),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Input,
                  {
                    type: "number",
                    min: 1,
                    value: quantity,
                    onChange: (e) => setQuantity(parseInt(e.target.value) || 1),
                    className: "text-center"
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 631,
                    columnNumber: 23
                  },
                  globalThis
                ),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Button,
                  {
                    variant: "outline",
                    size: "icon",
                    onClick: () => setQuantity(quantity + 1),
                    children: "+"
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 638,
                    columnNumber: 23
                  },
                  globalThis
                ),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: unit }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 645,
                  columnNumber: 23
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 622,
                columnNumber: 21
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 620,
              columnNumber: 19
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 546,
            columnNumber: 15
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 545,
            columnNumber: 13
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 540,
          columnNumber: 11
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardHeader, { children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardTitle, { children: "Context Information" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 656,
              columnNumber: 15
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardDescription, { children: "What triggered this consumption?" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 657,
              columnNumber: 15
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 655,
            columnNumber: 13
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { className: "space-y-4", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Trigger:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 662,
                  columnNumber: 19
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Select, { value: trigger, onValueChange: setTrigger, children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectTrigger, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectValue, { placeholder: "What triggered you?" }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 665,
                    columnNumber: 23
                  }, globalThis) }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 664,
                    columnNumber: 21
                  }, globalThis),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectContent, { children: COMMON_TRIGGERS.map((t) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: t, children: t }, t, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 669,
                    columnNumber: 25
                  }, globalThis)) }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 667,
                    columnNumber: 21
                  }, globalThis)
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 663,
                  columnNumber: 19
                }, globalThis),
                trigger === "Custom" && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Input,
                  {
                    placeholder: "Enter custom trigger",
                    value: customTrigger,
                    onChange: (e) => setCustomTrigger(e.target.value)
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 674,
                    columnNumber: 21
                  },
                  globalThis
                )
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 661,
                columnNumber: 17
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Location:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 683,
                  columnNumber: 19
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Select, { value: location, onValueChange: setLocation, children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectTrigger, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectValue, { placeholder: "Where were you?" }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 686,
                    columnNumber: 23
                  }, globalThis) }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 685,
                    columnNumber: 21
                  }, globalThis),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectContent, { children: COMMON_LOCATIONS.map((loc) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: loc, children: loc }, loc, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 690,
                    columnNumber: 25
                  }, globalThis)) }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 688,
                    columnNumber: 21
                  }, globalThis)
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 684,
                  columnNumber: 19
                }, globalThis),
                location === "Custom" && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Input,
                  {
                    placeholder: "Enter custom location",
                    value: customLocation,
                    onChange: (e) => setCustomLocation(e.target.value)
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 695,
                    columnNumber: 21
                  },
                  globalThis
                )
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 682,
                columnNumber: 17
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 660,
              columnNumber: 15
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Mood:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 706,
                  columnNumber: 19
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Select, { value: mood, onValueChange: setMood, children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectTrigger, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectValue, { placeholder: "How were you feeling?" }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 709,
                    columnNumber: 23
                  }, globalThis) }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 708,
                    columnNumber: 21
                  }, globalThis),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectContent, { children: MOOD_OPTIONS.map((m) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(SelectItem, { value: m.toLowerCase(), children: m }, m, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 713,
                    columnNumber: 25
                  }, globalThis)) }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 711,
                    columnNumber: 21
                  }, globalThis)
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 707,
                  columnNumber: 19
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 705,
                columnNumber: 17
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex justify-between", children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Craving Intensity:" }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 721,
                    columnNumber: 21
                  }, globalThis),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-sm text-muted-foreground", children: [
                    intensity,
                    "/10"
                  ] }, void 0, true, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 722,
                    columnNumber: 21
                  }, globalThis)
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 720,
                  columnNumber: 19
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Slider,
                  {
                    value: [intensity],
                    min: 1,
                    max: 10,
                    step: 1,
                    onValueChange: (vals) => setIntensity(vals[0])
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 724,
                    columnNumber: 19
                  },
                  globalThis
                )
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 719,
                columnNumber: 17
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 704,
              columnNumber: 15
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Notes:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 735,
                columnNumber: 17
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Textarea,
                {
                  placeholder: "Any additional details about this consumption...",
                  value: notes,
                  onChange: (e) => setNotes(e.target.value),
                  rows: 3
                },
                void 0,
                false,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 736,
                  columnNumber: 17
                },
                globalThis
              )
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 734,
              columnNumber: 15
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 659,
            columnNumber: 13
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 654,
          columnNumber: 11
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Accordion, { type: "single", collapsible: true, children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(AccordionItem, { value: "health-metrics", children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(AccordionTrigger, { children: "Health Metrics (Optional)" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 749,
            columnNumber: 15
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(AccordionContent, { children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "space-y-4 p-2", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Step Count Today:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 754,
                  columnNumber: 23
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Input,
                  {
                    type: "number",
                    placeholder: "Optional",
                    value: stepCount !== null ? stepCount : "",
                    onChange: (e) => setStepCount(e.target.value ? parseInt(e.target.value) : null)
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 755,
                    columnNumber: 23
                  },
                  globalThis
                )
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 753,
                columnNumber: 21
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Sleep Hours Last Night:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 764,
                  columnNumber: 23
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Input,
                  {
                    type: "number",
                    step: "0.5",
                    placeholder: "Optional",
                    value: sleepHours !== null ? sleepHours : "",
                    onChange: (e) => setSleepHours(e.target.value ? parseFloat(e.target.value) : null)
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 765,
                    columnNumber: 23
                  },
                  globalThis
                )
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 763,
                columnNumber: 21
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 752,
              columnNumber: 19
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col space-y-2", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex justify-between", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Label, { children: "Stress Level:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 777,
                  columnNumber: 23
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-sm text-muted-foreground", children: [
                  stressLevel,
                  "/10"
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 778,
                  columnNumber: 23
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 776,
                columnNumber: 21
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Slider,
                {
                  value: [stressLevel],
                  min: 1,
                  max: 10,
                  step: 1,
                  onValueChange: (vals) => setStressLevel(vals[0])
                },
                void 0,
                false,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 780,
                  columnNumber: 21
                },
                globalThis
              )
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 775,
              columnNumber: 19
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 751,
            columnNumber: 17
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 750,
            columnNumber: 15
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 748,
          columnNumber: 13
        }, globalThis) }, void 0, false, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 747,
          columnNumber: 11
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex justify-end space-x-2", children: [
          editingLog && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Button, { variant: "outline", onClick: cancelEdit, disabled: isSubmitting, children: "Cancel" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 796,
            columnNumber: 15
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
            Button,
            {
              onClick: editingLog ? updateLog : handleSubmit,
              disabled: isSubmitting || !selectedProduct,
              children: isSubmitting ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(jsxDevRuntimeExports.Fragment, { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(RefreshCw, { className: "mr-2 h-4 w-4 animate-spin" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 806,
                  columnNumber: 19
                }, globalThis),
                editingLog ? "Updating..." : "Submitting..."
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 805,
                columnNumber: 17
              }, globalThis) : /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(jsxDevRuntimeExports.Fragment, { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Save, { className: "mr-2 h-4 w-4" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 811,
                  columnNumber: 19
                }, globalThis),
                editingLog ? "Update Log" : "Save Log"
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 810,
                columnNumber: 17
              }, globalThis)
            },
            void 0,
            false,
            {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 800,
              columnNumber: 13
            },
            globalThis
          )
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 794,
          columnNumber: 11
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
        lineNumber: 493,
        columnNumber: 9
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsContent, { value: "history", className: "space-y-6 pt-4", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { children: [
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardHeader, { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardTitle, { children: "Consumption History" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 822,
            columnNumber: 15
          }, globalThis),
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardDescription, { children: "Your recent nicotine consumption logs" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 823,
            columnNumber: 15
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 821,
          columnNumber: 13
        }, globalThis),
        /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardContent, { children: [
          /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "mb-4 flex items-center justify-between", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center space-x-2", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Popover, { children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(PopoverTrigger, { asChild: true, children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Button, { variant: "outline", className: "flex items-center", children: [
                filterDate ? format(filterDate, "PPP") : "All dates",
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ChevronDown, { className: "ml-2 h-4 w-4" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 834,
                  columnNumber: 25
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 832,
                columnNumber: 23
              }, globalThis) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 831,
                columnNumber: 21
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(PopoverContent, { className: "w-auto p-0", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Calendar$1,
                  {
                    mode: "single",
                    selected: filterDate,
                    onSelect: setFilterDate,
                    initialFocus: true
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 838,
                    columnNumber: 23
                  },
                  globalThis
                ),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "border-t p-2", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                  Button,
                  {
                    variant: "outline",
                    className: "w-full",
                    onClick: () => setFilterDate(void 0),
                    children: "Clear Filter"
                  },
                  void 0,
                  false,
                  {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 845,
                    columnNumber: 25
                  },
                  globalThis
                ) }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 844,
                  columnNumber: 23
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 837,
                columnNumber: 21
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 830,
              columnNumber: 19
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Button, { variant: "ghost", size: "icon", onClick: loadConsumptionLogs, children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(RefreshCw, { className: isLoadingLogs ? "h-4 w-4 animate-spin" : "h-4 w-4" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 857,
              columnNumber: 21
            }, globalThis) }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 856,
              columnNumber: 19
            }, globalThis)
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 829,
            columnNumber: 17
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 828,
            columnNumber: 15
          }, globalThis),
          isLoadingLogs ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center justify-center p-8", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(RefreshCw, { className: "h-6 w-6 animate-spin" }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 864,
            columnNumber: 19
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 863,
            columnNumber: 17
          }, globalThis) : logs.length === 0 ? /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "text-center p-8 border rounded-md", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CircleAlert, { className: "h-8 w-8 mx-auto mb-4 text-muted-foreground" }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 868,
              columnNumber: 19
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-muted-foreground", children: "No consumption logs found." }, void 0, false, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 869,
              columnNumber: 19
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
              Button,
              {
                variant: "outline",
                className: "mt-4",
                onClick: () => setActiveTab("log"),
                children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Plus, { className: "mr-2 h-4 w-4" }, void 0, false, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 875,
                    columnNumber: 21
                  }, globalThis),
                  "Log Consumption"
                ]
              },
              void 0,
              true,
              {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 870,
                columnNumber: 19
              },
              globalThis
            )
          ] }, void 0, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 867,
            columnNumber: 17
          }, globalThis) : /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(ScrollArea, { className: "h-[400px]", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "space-y-4", children: logs.filter(
            (log) => !filterDate || format(new Date(log.consumption_date), "yyyy-MM-dd") === format(filterDate, "yyyy-MM-dd")
          ).map((log) => /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Card, { className: "overflow-hidden", children: [
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex border-b", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "p-4 flex-1", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex items-center gap-2 mb-1", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-xl", children: getIconForCategory(log.product_type) }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 893,
                  columnNumber: 33
                }, globalThis),
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "font-medium", children: [
                    log.brand,
                    " ",
                    log.variant
                  ] }, void 0, true, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 895,
                    columnNumber: 35
                  }, globalThis),
                  /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-sm text-muted-foreground", children: [
                    format(new Date(log.consumption_date), "PPP"),
                    " at ",
                    format(new Date(log.consumption_date), "p")
                  ] }, void 0, true, {
                    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                    lineNumber: 896,
                    columnNumber: 35
                  }, globalThis)
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 894,
                  columnNumber: 33
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 892,
                columnNumber: 31
              }, globalThis) }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 891,
                columnNumber: 29
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "flex flex-col justify-center items-end p-4 space-y-1", children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Badge, { children: [
                  log.quantity,
                  " ",
                  log.unit
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 903,
                  columnNumber: 31
                }, globalThis),
                log.nicotine_strength && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Badge, { variant: "outline", children: [
                  log.nicotine_strength,
                  " mg"
                ] }, void 0, true, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 907,
                  columnNumber: 33
                }, globalThis)
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 902,
                columnNumber: 29
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 890,
              columnNumber: 27
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "p-4 grid grid-cols-2 gap-y-2 text-sm", children: [
              log.trigger && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-muted-foreground", children: "Trigger:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 917,
                  columnNumber: 33
                }, globalThis),
                " ",
                log.trigger
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 916,
                columnNumber: 31
              }, globalThis),
              log.location && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-muted-foreground", children: "Location:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 922,
                  columnNumber: 33
                }, globalThis),
                " ",
                log.location
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 921,
                columnNumber: 31
              }, globalThis),
              log.mood && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-muted-foreground", children: "Mood:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 927,
                  columnNumber: 33
                }, globalThis),
                " ",
                log.mood
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 926,
                columnNumber: 31
              }, globalThis),
              log.intensity && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { children: [
                /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("span", { className: "text-muted-foreground", children: "Intensity:" }, void 0, false, {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 932,
                  columnNumber: 33
                }, globalThis),
                " ",
                log.intensity,
                "/10"
              ] }, void 0, true, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 931,
                columnNumber: 31
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 914,
              columnNumber: 27
            }, globalThis),
            log.notes && /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("div", { className: "px-4 pb-4 pt-0", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-sm text-muted-foreground mb-1", children: "Notes:" }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 939,
                columnNumber: 31
              }, globalThis),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV("p", { className: "text-sm", children: log.notes }, void 0, false, {
                fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                lineNumber: 940,
                columnNumber: 31
              }, globalThis)
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 938,
              columnNumber: 29
            }, globalThis),
            /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(CardFooter, { className: "flex justify-end gap-2 pt-0 pb-4", children: [
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Button,
                {
                  variant: "ghost",
                  size: "sm",
                  onClick: () => handleDelete(log.id || ""),
                  children: [
                    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(X, { className: "h-4 w-4 mr-1" }, void 0, false, {
                      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                      lineNumber: 950,
                      columnNumber: 31
                    }, globalThis),
                    "Delete"
                  ]
                },
                void 0,
                true,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 945,
                  columnNumber: 29
                },
                globalThis
              ),
              /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(
                Button,
                {
                  variant: "outline",
                  size: "sm",
                  onClick: () => handleEdit(log),
                  children: "Edit"
                },
                void 0,
                false,
                {
                  fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
                  lineNumber: 953,
                  columnNumber: 29
                },
                globalThis
              )
            ] }, void 0, true, {
              fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
              lineNumber: 944,
              columnNumber: 27
            }, globalThis)
          ] }, log.id, true, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 889,
            columnNumber: 25
          }, globalThis)) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 881,
            columnNumber: 19
          }, globalThis) }, void 0, false, {
            fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
            lineNumber: 880,
            columnNumber: 17
          }, globalThis)
        ] }, void 0, true, {
          fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
          lineNumber: 827,
          columnNumber: 13
        }, globalThis)
      ] }, void 0, true, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
        lineNumber: 820,
        columnNumber: 11
      }, globalThis) }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
        lineNumber: 819,
        columnNumber: 9
      }, globalThis),
      /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TabsContent, { value: "triggers", children: /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(TriggerAnalysis, { session }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
        lineNumber: 971,
        columnNumber: 11
      }, globalThis) }, void 0, false, {
        fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
        lineNumber: 970,
        columnNumber: 9
      }, globalThis)
    ] }, void 0, true, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
      lineNumber: 486,
      columnNumber: 7
    }, globalThis),
    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Dialog, { open: showAddDialog, onOpenChange: setShowAddDialog }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
      lineNumber: 976,
      columnNumber: 7
    }, globalThis),
    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Dialog, { open: showEditDialog, onOpenChange: setShowEditDialog }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
      lineNumber: 981,
      columnNumber: 7
    }, globalThis),
    /* @__PURE__ */ jsxDevRuntimeExports.jsxDEV(Dialog, { open: showProductDialog, onOpenChange: setShowProductDialog }, void 0, false, {
      fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
      lineNumber: 986,
      columnNumber: 7
    }, globalThis)
  ] }, void 0, true, {
    fileName: "/Users/guoweijiang/Downloads/(5001) mission-fresh/micro-frontends/mission-fresh/src/components/ConsumptionLogger.tsx",
    lineNumber: 485,
    columnNumber: 5
  }, globalThis);
};

export { ArrowRight as A, ConsumptionLogger, Plus as P, RefreshCw as R, TriggerAnalysis as T, Users as U, AnimatePresence as a, ConsumptionLogger as default };
